define("banjiajia/web/1.0.0/scripts/common/util",["$"],function(require,exports,module){function Util(){}var $=require("$");Util.prototype={JsonEval:function(jsonObj){var str="";try{str=eval(jsonObj)}catch(err){str=eval("("+jsonObj+")")}return str},Request:function(){function a(a){b.url=a.url||b.url,b.dataType=a.dataType||b.dataType,b.async=a.async||!0,b.type=a.type||b.type,b.beforeSend=a.beforeSend||b.beforeSend,b.success=a.success||b.success,b.complete=a.complete||b.complete,b.error=a.error||b.error,b.data=a.data||b.data,$.ajax(b)}var b={url:"",dataType:"json",async:!0,type:"GET",beforeSend:function(){},success:function(){},complete:function(){},error:function(){}};return{send:a}}(),CreateLoading:function(a){var b='<img id="loadingImg" style="padding-top:5px" src="/resources/img/loader.gif">';a.append(b)},RemoveLoading:function(){$("#loadingImg").remove()},getLocalTime:function(a){return a},prompt:function(a,b,c){var d=null;if(a){var e='<div role="alert" class="alert alert-{0} alert-dismissible"><button data-dismiss="alert" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button><strong>{1}</strong>{2}</div>',f=a.toLowerCase();d=String.format(e,f,b,c)}return d},getLocalTime:function(a){return a&&"null"!=a?new Date(1e3*parseInt(a)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," "):""},include:function(a){for(var b="",c="string"==typeof a?[a]:a,d=0;d<c.length;d++){var e=c[d].replace(/^\s|\s$/g,""),f=e.split("."),g=f[f.length-1].toLowerCase(),h="css"==g,i=h?"link":"script",j=h?" type='text/css' rel='stylesheet' ":" type='text/javascript' ",k=(h?"href":"src")+"='"+b+e+"'";0==$(i+"["+k+"]").length&&$("head").prepend("<"+i+j+k+"></"+i+">")}},fmoney:function(a,b){b=b>0&&20>=b?b:2,a=parseFloat((a+"").replace(/[^\d\.-]/g,"")).toFixed(b)+"";var c=a.split(".")[0].split("").reverse(),d=a.split(".")[1];for(t="",i=0;i<c.length;i++)t+=c[i]+(0==(i+1)%3&&i+1!=c.length?",":"");return t.split("").reverse().join("")+"."+d},getAjaxLoadingInitOption:function(){var a=this;return a.include(_contentPath+"/resources/js/msgBox.js"),a.include(_contentPath+"/resources/css/msgBox.css"),{t:0,i:6}},ajaxGlobalSetting:function(){var a=this,b=a.getAjaxLoadingInitOption();$.ajaxSetup({beforeSend:function(){b.t=0,a.ajaxLoading(b)},complete:function(){b.t=1,a.ajaxLoading(b)}})},ajaxLoading:function(a){var b="";switch(a.i){case 1:b="服务器繁忙，请稍后再试。";break;case 4:b="设置成功！";break;case 5:b="数据拉取失败";break;case 6:b="服务器处理中，请稍后..."}0===parseInt(a.t)&&ZENG.msgbox.show(b,a.i),1===parseInt(a.t)&&ZENG.msgbox.show(b,a.i,1e3)}},module.exports=Util,String.format=function(){if(0==arguments.length)return null;for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a}});
