define("banjiajia/web/1.0.0/scripts/members/teacher/list",["$","pager","util","area","ace-elements","jggrid","gridlocale","validation","baiduMap","plugin"],function(a){function b(a){var b="",c="";if(a&&a.skills){for(var d=a.skills.split(","),e=0;e<d.length;e++){var g=f("#skillId"+d[e]).val();null!=g&&g.length>0&&(c+=g)}c.length>0&&(c=c.substring(0,c.length-1))}return b+='<tr class="odd"><td class="center  sorting_1"><label><input type="checkbox" class="ace"><span class="lbl"></span></label></td><td class=" "><a href="'+_contentPath+"/members/teacher/show/"+a.id+'.html" target="_blank">'+a.name+"</a>"+"</td>"+'<td class="">'+a.phone+"</td>"+'<td class=" ">'+a.qq+"</td>"+'<td class=" ">'+a.weixin+"</td>"+'<td class=" ">'+c+"</td>"+'<td class=" ">'+a.city+"</td>"+'<td class=" "><a href="javascript:void(0)" class="shoppingDistrict" data-city="'+a.city+'" data-shopDis="'+a.shoppingDistrict+'">查看</a></td>'+'<td class=" ">'+'<div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">'+'<a class="blue" href="'+_contentPath+"/members/teacher/show/"+a.id+'.html">'+'<i class="icon-zoom-in bigger-130"></i>'+"</a>"+'<a class="green" href="'+_contentPath+"/members/teacher/edit/"+a.id+'.html">'+'<i class="icon-pencil bigger-130"></i>'+"</a>"+"</div>"+"</td>"+"</tr>"}function c(){f("#serchBtn").click(function(){var a=f(this).attr("data-fild");n="",n="&"+a+"="+encodeURI(encodeURI(f("#searchValue").val())),d(null,null,null,1)})}function d(a,b,c,d){var g=(parseInt(d)-1)*m;f.ajax({url:_contentPath+"/members/teacher/list/query.json?begin="+g+n,async:!0,dataType:"json",success:function(a){e(a.teacherInfos)},error:function(a,b,c){console.log("error="+c)}})}function e(a){var c="";for(var e in a.data)c+=b(a.data[e]);k.html(c),f(".shoppingDistrict").click(function(){var a=f(this).attr("data-shopDis"),b=f(this).attr("data-city"),c=a.split(",");(new j).divtoshow(b,c)}),m=a.page.length;var h={totalPages:a.page.total,currentPage:a.page.current,callback:d};g.init(f(".pagination"),h)}var f=a("$"),g=a("pager"),h=a("util"),i=a("area");a("ace-elements"),a("jggrid"),a("gridlocale"),a("validation")(f);var j=a("baiduMap"),k=f("#theacertbody"),l=a("plugin"),m=0,n="",o=new h;o.include(_contentPath+"/resources/assets/src/scripts/common/BMapLibCityList.js");var p={init:function(){o.ajaxGlobalSetting(),d(null,null,null,0),c(),(new l).bootstrap().dropdownInIt();var a={area:{province:f("#province"),city:f("#city"),district:f("#district")},service:{district:f("#shoppingDistrictsSelect"),districtVal:f("#shoppingDistrictId")}},b=new i(a);b.init()}};p.init()});
